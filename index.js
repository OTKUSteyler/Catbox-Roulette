(function(o,r,a){"use strict";async function d(i=80){for(let e=0;e<i;e++){EXTENSIONS[Math.floor(Math.random()*EXTENSIONS.length)];const n="https://files.catbox.moe/( {code}. ){ext}";try{const t=await fetch(n,{method:"HEAD",redirect:"follow"});if(t.ok){const s=t.headers.get("content-type")||"";if(s.startsWith("image/")||s.startsWith("video/"))return n}}catch{}await new Promise(function(t){return setTimeout(t,400+Math.random()*300)})}return null}const{sendBotMessage:c}=a.findByProps("sendBotMessage"),l=a.findByProps("sendMessage","editMessage");let u=r.registerCommand({name:"catbox",displayName:"Catbox Roulette",description:"Fetch a random working Catbox.moe link.",displayDescription:"Fetch a random working Catbox.moe link.",options:[],execute:async function(i,e){const n=await d();if(!n){c(e.channel.id,"Couldn't find a valid link after many tries. Try again later.");return}const t=Date.now().toString();l.sendMessage(e.channel.id,{content:n},void 0,{nonce:t})},applicationId:"-1",inputType:1,type:1});return o.default=u,Object.defineProperty(o,"__esModule",{value:!0}),o})({},vendetta.commands,vendetta.metro);
