(function(o,c,a){"use strict";const{sendBotMessage:r}=a.findByProps("sendBotMessage"),d=a.findByProps("sendMessage","editMessage");async function l(i=80){for(let t=0;t<i;t++){const n="https://files.catbox.moe/( {code}. ){ext}";try{const e=await fetch(n,{method:"HEAD",redirect:"follow"});if(e.ok){const s=e.headers.get("content-type")||"";if(s.includes("image/")||s.includes("video/"))return n}}catch{}await new Promise(function(e){return setTimeout(e,700+Math.random()*700)})}return null}const u=c.registerCommand({name:"catbox",displayName:"Catbox Roulette",description:"Fetches a random working Catbox.moe link",displayDescription:"Fetches a random working Catbox.moe link",options:[],execute:async function(i,t){const n=await l();if(!n){r(t.channel.id,"No valid link found after tries. Try again later.");return}const e=Date.now().toString();d.sendMessage(t.channel.id,{content:n},void 0,{nonce:e})},applicationId:"-1",inputType:1,type:1});return o.default=u,Object.defineProperty(o,"__esModule",{value:!0}),o})({},vendetta.commands,vendetta.metro);
