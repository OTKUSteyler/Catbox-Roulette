(function(i,c,d,n){"use strict";const{sendBotMessage:u}=d.findByProps("sendBotMessage"),l=["png","jpg","webp"],p="abcdefghijklmnopqrstuvwxyz0123456789";async function f(){const r=new Set;n.showToast({content:"Searching Catbox... (may take 1\u20134 minutes)",type:"info"});for(let e=0;e<400;e++){let t="";do{t="";for(let o=0;o<6;o++)t+=p.charAt(Math.floor(Math.random()*36))}while(r.has(t));r.add(t);for(const o of l){const s="https://files.catbox.moe/( {code}. ){ext}";try{const a=await fetch(s,{method:"HEAD",redirect:"follow"});if(a.ok&&(a.headers.get("content-type")||"").includes("image/"))return s}catch{}await new Promise(function(a){return setTimeout(a,700+Math.random()*800)})}e%40===0&&e>0&&await new Promise(function(o){return setTimeout(o,4e3)})}return null}let m=c.registerCommand({name:"catbox",displayName:"Catbox Roulette",description:"Finds random Catbox image link & copies to clipboard",displayDescription:"Finds random Catbox image link & copies to clipboard",options:[],execute:async function(r,e){const t=await f();if(!t){n.showToast({content:"No link found after 400 tries \u2013 Catbox is huge & sparse. Try again!",type:"failure"});return}try{await navigator.clipboard.writeText(t),n.showToast({content:`Copied! ${t}`,type:"success"})}catch{n.showToast({content:`Found but copy failed: ${t}`,type:"failure"}),u(e.channel.id,`Found (copy failed): ${t}`)}},applicationId:"-1",inputType:1,type:1});return i.default=m,Object.defineProperty(i,"__esModule",{value:!0}),i})({},vendetta.commands,vendetta.metro,vendetta.toasts);
