(function(a,s,d,e){"use strict";const{sendBotMessage:l}=d.findByProps("sendBotMessage"),c="abcdefghijklmnopqrstuvwxyz0123456789";async function u(){const i=new Set;e.showToast({content:"Rolling Catbox roulette... (1\u20135 min max)",type:"info"});for(let o=0;o<450;o++){let t;do t=Array(6).fill(0).map(function(){return c.charAt(Math.floor(Math.random()*c.length))}).join("");while(i.has(t));i.add(t);const r="https://files.catbox.moe/( {code}. ){ext}";try{const n=await fetch(r,{method:"HEAD",redirect:"follow",cache:"no-store"});if(n.ok&&(n.headers.get("content-type")||"").includes("image/"))return r}catch{}await new Promise(function(n){return setTimeout(n,800+Math.random()*800)})}return null}const p=s.registerCommand({name:"catbox",displayName:"Catbox Roulette",description:"Gets random Catbox link & copies to clipboard",displayDescription:"Gets random Catbox link & copies to clipboard",options:[],execute:async function(i,o){const t=await u();if(!t){e.showToast({content:"Didn't find anything after 450 rolls \u2013 try again!",type:"failure"});return}try{await navigator.clipboard.writeText(t),e.showToast({content:`Copied to clipboard: ${t}`,type:"success"})}catch{e.showToast({content:`Found but copy failed: ${t}`,type:"failure"}),l(o.channel.id,`Found (copy failed): ${t}`)}},applicationId:"-1",inputType:1,type:1});return a.default=p,Object.defineProperty(a,"__esModule",{value:!0}),a})({},vendetta.commands,vendetta.metro,vendetta.toasts);
