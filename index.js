(function(a,d,l,e){"use strict";const{sendBotMessage:u}=l.findByProps("sendBotMessage"),r=["png","jpg","webp"],c="abcdefghijklmnopqrstuvwxyz0123456789";async function p(){const i=new Set;e.showToast({content:"Rolling Catbox roulette... (1\u20135 min max)",type:"info"});for(let o=0;o<450;o++){let t;do t=Array(6).fill(0).map(function(){return c.charAt(Math.floor(Math.random()*c.length))}).join("");while(i.has(t));i.add(t);const h=r[Math.floor(Math.random()*r.length)],s=`https://files.catbox.moe/${t}.${h}`;try{const n=await fetch(s,{method:"HEAD",redirect:"follow",cache:"no-store"});if(n.ok&&(n.headers.get("content-type")||"").includes("image/"))return s}catch{}await new Promise(function(n){return setTimeout(n,800+Math.random()*800)})}return null}const f=d.registerCommand({name:"catbox",displayName:"Catbox Roulette",description:"Gets random Catbox link & copies to clipboard",displayDescription:"Gets random Catbox link & copies to clipboard",options:[],execute:async function(i,o){const t=await p();if(!t){e.showToast({content:"Didn't find anything after 450 rolls \u2013 try again!",type:"failure"});return}try{await navigator.clipboard.writeText(t),e.showToast({content:`Copied to clipboard: ${t}`,type:"success"})}catch{e.showToast({content:`Found but copy failed: ${t}`,type:"failure"}),u(o.channel.id,`Found (copy failed): ${t}`)}},applicationId:"-1",inputType:1,type:1});return a.default=f,Object.defineProperty(a,"__esModule",{value:!0}),a})({},vendetta.commands,vendetta.metro,vendetta.toasts);
